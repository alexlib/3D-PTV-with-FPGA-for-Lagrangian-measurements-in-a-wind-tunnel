%\documentclass[aspectratio=169]{beamer}
% \documentclass[preprint, aspectratio=43]{beamer}
\documentclass[aspectratio=169]{beamer}
% \usepackage[utf8]{inputenc}
\usepackage{multicol}
\usepackage[bigfiles]{pdfbase}

% \AtBeginSection[]
% {
%     \begin{frame}
%         \frametitle{Table of Contents}
%         \tableofcontents[currentsection]
%     \end{frame}
% }


%% Useful packages
\usepackage{amsmath}
\usepackage{graphicx}
\graphicspath{{fig/}}
\usepackage{xcolor}
\usepackage{tikz}
% \usepackage[hidelinks]{hyperref}

% \newcommand{\height}{H}%
% \newcommand{\av}[1]{\langle {#1} \rangle}
% \newcommand{\vect}[1]{\mathbf{#1}}

\newlength{\wdth}
\newcommand{\strike}[1]{\settowidth{\wdth}{#1}\rlap{\rule[.5ex]{\wdth}{.4pt}}#1}


% \title{3D-PTV with FPGA for Lagrangian measurements in a wind tunnel}
\title{Towards a real-time three-dimensional particle tracking velocimetry (3D-PTV)}
% \date{July 9, 2018}
\date{June 19--21, 2023}
\author[Liberzon]{Alex Liberzon, Tel Aviv University}


\usetheme{material}

\useDarkTheme
%\useLightTheme
%\usePrimaryRed
\usePrimaryPink
%\usePrimaryBlueGrey
\useAccentGreen
%\useAccentPurple
%\useAccentYellow
%\useAccentRed
%\useAccentIndigo

\usepackage[sfdefault]{roboto}
\setbeamertemplate{footline}[frame number]
\input{embed_video.tex}

\includeonlyframes{intro-*}
% \includeonlyframes{why-*}
% \includeonlyframes{ptv-*}
% \includeonlyframes{real-*}
% \includeonlyframes{why-*}

\makeatletter
\def\beamer@checkifinlist#1,#2\relax{%
\def\beamer@temp{#1}%
\let\b@name\beamer@againname
\b@star@test#1\relax-*!\relax\count@
\ifx\beamer@temp\b@name
\else
  \def \beamer@temp {#2}%
  \ifx\beamer@temp\@empty
    \gdef\beamer@whichframes{all:0}%
  \else
    \beamer@checkifinlist#2\relax
  \fi
\fi }

\def\b@star@test#1-*#2\relax#3\count@{%
\ifx\\#2\\%
\def\beamer@temp{#1}%
\expandafter\b@dash@test\beamer@againname-\valign\relax
\fi}

\def\b@dash@test#1-#2#3\relax{%
\ifx\valign#2%
\else
\def\b@name{#1}%
\fi}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\begin{frame}
    \titlepage
\end{frame}

\begin{frame}\frametitle{Outline}
    \begin{card}	
    \tableofcontents
    \end{card}
\end{frame}

% \begin{frame}{Hourglass - credit: \href{https://www.youtube.com/shorts/IEtQHRVqI7s}{shortvideos1250 Youtube}}
% \embedvideo{\cardImg[height=.8\textheight]{hourglass}{.9\textwidth}}{video/hourglass.mp4}
% \end{frame}


\include{intro}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\include{why_real_time}

\include{ptv}

\include{real_time_3dptv}

\include{applications}

\section{Benefits of open source and open science}
\topicFramePrimary{Let's work collectively and co-develop open-source software}
% \topicFramePrimary{\includegraphics[width=0.5\textwidth]{openptv}}

\begin{frame}
\frametitle{The most important benefit of open source is sustainability}
\begin{itemize}
\item Developing real-time 3D-PTV as an open-source project: increased collaboration and sharing of knowledge. 
\item You meet great people along the way.
\item The open-source approach has been successful in other scientific fields: ML/AI, PyData, OpenCV, OpenFOAM, etc.
\item There are challenges of developing an open-source real-time 3D-PTV project: consistency, documentation, and funding.
\end{itemize}
\end{frame}


% \begin{frame}{Open source software suite, all on Github}
% \begin{itemize}
% \item \includegraphics[width=0.5\textwidth]{openptv} \hspace{1em} library, `liboptv`, ANSI C
% \item PyPTV GUI for \emph{liboptv} in Python \includegraphics[width=.3\textwidth]{pyptv}
% \item FlowTracks - trajectories database management (see Meller and Liberzon 2016)
% \item BlobRecorder - proprietary hardware/customized software (see Shnapp et al. arxiv)
% \end{itemize}
% \end{frame}


\begin{frame}[label=opensource-1]{Use sustainable software: Python, NumPy, PyData, Github}
\begin{itemize}
\item \includegraphics[width=0.3\textwidth]{openptv}
 \includegraphics[width=.3\textwidth]{pyptv} \includegraphics[width=.3\textwidth]{fig/myptv_logo.png}
\item FlowTracks - trajectories database management (see Meller and Liberzon 2016)
\item BlobRecorder - proprietary hardware/customized software (see Shnapp et al. arxiv)
\end{itemize}
\end{frame}



\section{Take home message}\label{sec:summary}


% \begin{frame}
% \frametitle{Conclusions}
% \begin{itemize}
% \item Summarize the key points of the presentation and reiterate the importance of real-time 3D-PTV and the benefits of developing it as an open-source project.
% \item Encourage audience members to become involved in real-time 3D-PTV research and development.
% \item Deliver the message to industry professionals, research scientists, and graduate students that their participation in developing real-time 3D-PTV as an open-source project can lead to significant benefits for all involved, including improved collaboration, knowledge-sharing, and scientific advancements.
% \end{itemize}
% \end{frame}


% \begin{frame}{Summary}
% \begin{itemize}
% \item Real-time imaging changed the 3D-PTV method and the way we think about it
% \item Field experiments, webcam or Kinect-based, wind tunnel experiments, space station microgravity experiments are possible
% \item Direct Lagrangian information in complex urban canopy flows is under analysis
% \item Close coordination with the modeling efforts of Lagrangian dispersion or Lagrangian puff models
% \end{itemize}
% \end{frame}



\begin{frame}{Closing thoughts}

Real-time 3D particle tracking velocimetry (3D-PTV) provides numerous advantages for fluid flow measurement and analysis, including:

\begin{itemize}
\item Immediate feedback on the velocity field
\item Faster decision-making
\item Improved accuracy and precision of measured data
\item Detailed insight into fluid dynamics
\item Real-time issue detection and troubleshooting
\end{itemize}

Real-time 3D-PTV is an invaluable tool for a wide range of applications, from fundamental fluid dynamics research to industrial process optimization and safety-critical applications.

\end{frame}


\begin{frame}{Take-home message}
  \begin{itemize}
  \item Real-time image analysis on FPGA is feasible for long-recording, high-speed 3D-PTV
  \item Real-time feature changes a paradigm about 3D-PTV: from the laboratory, table-top experiments to wind tunnel, field experiments, and new applications (e.g. control)
  \item Instead of dense field representation (TomoPIV, Shake the box),  you can obtain an unprecedented data set of of Lagrangian trajectories, reducing particle density and gaining new features like infinitely long time recording, along with Lagrangian velocity fields and material derivatives. 
  \end{itemize}
  
  \begin{cardTiny}\href{https://www.nature.com/articles/s41598-019-43555-2}{Details are in ``Extended 3D-PTV ...'' by Shnapp et al. Sci. Rep.}
  \end{cardTiny}
  
  \end{frame}
  
  \begin{frame}{Towards a real real-time 3D-PTV :) \href{https://www.dropbox.com/s/os4tz91gq0ginp8/real_time_3dptv_calibration.mp4?raw=1}{\ldots}}
  \embedvideo{\includegraphics[width=0.9\textwidth]{fig/real_time_3dptv_calibration.png}}{video/real_time_3dptv_calibration.mp4}    
  \end{frame}

  
  \begin{frame}{Thanks for your attention) \href{https://www.dropbox.com/s/resn98zu5l7vtty/real_time_3dptv.mp4?raw=1}{\ldots}}
  \embedvideo{\includegraphics[width=0.9\textwidth]{fig/real_time_3dptv_snapshot.jpg}}{video/real_time_3dptv.mp4}    
  \end{frame}



  

% \subsection{Credits}
\topicFramePrimary{Credits}

\begin{frame}[label=credit-1a]{The credit goes to the collaborators and funding agencies}
\begin{multicols}{2}
\centering
\cardImg{group_photo.jpg}{.49\textwidth} \cardImg{calibration_team.jpg}{0.49\textwidth}
\cardImg{sabrina_caliper.jpg}{.49\textwidth}\cardImg{meny_sabrina.jpg}{0.49\textwidth}
\end{multicols}
\end{frame}
%
% \begin{frame}[label=credit-2]{Israel Institute for Biological Research}
% \begin{card}[Israeli Institute for Biological Research]
% Eyal Fattal, Yardena Raviv, Valery Babin, Mordechai Hotoveli, David Perry
% \end{card}
% \begin{card}[TAU]
% Ron Shnapp, Meny Kon, Grigori Gulitski, Sabrina Shlain
% \end{card}
% \begin{card}[Funding]
% Israel Science Foundation, PAZY Grant, Metro 450 grant
% \end{card}
% \end{frame}
%

% \subsection{Credits}

% \begin{frame}[label=credit-1]{The credit goes to the collaborators }
% \begin{multicols}{2}
% \centering
% \cardImg{group_photo.jpg}{.49\textwidth} \cardImg{calibration_team.jpg}{0.49\textwidth}
% \cardImg{sabrina_caliper.jpg}{.49\textwidth}\cardImg{meny_sabrina.jpg}{0.49\textwidth}
% \end{multicols}
% \end{frame}
% %
% \begin{frame}[label=credit-2]
% \begin{card}[Israeli Institute for Biological Research]
% Eyal Fattal, Yardena Raviv, Valery Babin, Mordechai Hotoveli, David Perry
% \end{card}
% \begin{card}[TAU]
% Ron Shnapp, Meny Kon, Grigori Gulitski, Sabrina Shlain
% \end{card}
% \begin{card}[Funding]
% Israel Science Foundation, PAZY Grant, Metro 450 grant
% \end{card}
% \end{frame}
% %

% \begin{frame}[label=ron]
% \frametitle{We start with a happy end story}
% \cardImg{Ron.jpg}{0.8\textwidth}
% \begin{cardTiny}
% Ron Shnapp is a faculty at the Ben Gurion University, but it could turn out differently. 
% \end{cardTiny}
% \end{frame}


\end{document}














