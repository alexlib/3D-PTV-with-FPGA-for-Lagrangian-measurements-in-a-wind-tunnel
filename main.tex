%\documentclass[aspectratio=169]{beamer}
\documentclass[aspectratio=43]{beamer}
% \usepackage[utf8]{inputenc}
\usepackage{multicol}
\usepackage[bigfiles]{pdfbase}


%% Useful packages
\usepackage{amsmath}
\usepackage{graphicx}
\graphicspath{{fig/}}
\usepackage{xcolor}
\usepackage{tikz}
% \usepackage[hidelinks]{hyperref}

\newcommand{\height}{H}
\newcommand{\av}[1]{\langle {#1} \rangle}
\newcommand{\vect}[1]{\mathbf{#1}}

\newlength{\wdth}
\newcommand{\strike}[1]{\settowidth{\wdth}{#1}\rlap{\rule[.5ex]{\wdth}{.4pt}}#1}


% \title{3D-PTV with FPGA for Lagrangian measurements in a wind tunnel}
\title{Towards a real-time three-dimensional particle tracking velocimetry (3D-PTV)}
% \date{July 9, 2018}
\date{June 19-21, 2023}
\author[Liberzon]{Alex Liberzon, Tel Aviv University}


\usetheme{material}

\useDarkTheme
%\useLightTheme
%\usePrimaryRed
\usePrimaryPink
%\usePrimaryBlueGrey
%\useAccentGreen
\useAccentPurple
%\useAccentWhite
%\useAccentIndigo

\usepackage[sfdefault]{roboto}
\setbeamertemplate{footline}[frame number]
\input{embed_video.tex}

% \includeonlyframes{intro-*}
% \includeonlyframes{ptv-*}
% \includeonlyframes{Intro-*,Sss-Slide2}

\makeatletter
\def\beamer@checkifinlist#1,#2\relax{%
\def\beamer@temp{#1}%
\let\b@name\beamer@againname
\b@star@test#1\relax-*!\relax\count@
\ifx\beamer@temp\b@name
\else
  \def \beamer@temp {#2}%
  \ifx\beamer@temp\@empty
    \gdef\beamer@whichframes{all:0}%
  \else
    \beamer@checkifinlist#2\relax
  \fi
\fi }

\def\b@star@test#1-*#2\relax#3\count@{%
\ifx\\#2\\%
\def\beamer@temp{#1}%
\expandafter\b@dash@test\beamer@againname-\valign\relax
\fi}

\def\b@dash@test#1-#2#3\relax{%
\ifx\valign#2%
\else
\def\b@name{#1}%
\fi}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\begin{frame}
    \titlepage
\end{frame}

\begin{frame}\frametitle{Outline}
    \begin{card}	
    \tableofcontents
    \end{card}
\end{frame}

\section{Introduction}

%\include{intro}
%\include{ptv}
%\include{real_time_3dptv}
\include{applications}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{Credits}

\begin{frame}[label=credit-1]{The credit goes to the collaborators }
\begin{multicols}{2}
\centering
\cardImg{group_photo.jpg}{.49\textwidth} \cardImg{calibration_team.jpg}{0.49\textwidth}
\cardImg{sabrina_caliper.jpg}{.49\textwidth}\cardImg{meny_sabrina.jpg}{0.49\textwidth}
\end{multicols}
\end{frame}
%
\begin{frame}[label=credit-2]
\begin{card}[Israeli Institute for Biological Research]
Eyal Fattal, Yardena Raviv, Valery Babin, Mordechai Hotoveli, David Perry
\end{card}
\begin{card}[TAU]
Ron Shnapp, Meny Kon, Grigori Gulitski, Sabrina Shlain
\end{card}
\begin{card}[Funding]
Israel Science Foundation, PAZY Grant, Metro 450 grant
\end{card}
\end{frame}
%

\begin{frame}[label=ron]
\frametitle{We start with a happy end story}
\cardImg{Ron.jpg}{0.8\textwidth}
\begin{cardTiny}
Ron Shnapp is a faculty at the Ben Gurion University, but it could turn out differently. 
\end{cardTiny}
\end{frame}





\begin{frame}{Take-home message}
\begin{itemize}
\item Customized real-time image analysis on FPGA can be implemented for long-recording, high-speed 3D-PTV
\item New developments change a paradigm about 3D-PTV: from the laboratory, table-top experiments to wind tunnels and field experiments
\item Instead of dense field representation (TomoPIV, Shake the box),  you can obtain an unprecedented data set of of Lagrangian trajectories, along with Lagrangian velocity and material derivative. 
\end{itemize}

\begin{cardTiny}\href{https://www.nature.com/articles/s41598-019-43555-2}{Details are in ``Extended 3D-PTV ...'' by Shnapp et al. Sci. Rep.}
\end{cardTiny}

\end{frame}
%

%
%%\begin{frame}{Lagrangian to Eulerian post-processing}
%%\centering\cardImg{voxel1}{.6\textwidth}
%%\end{frame}
%

	 
\subsection{Post Processing}

\begin{frame}{Open source software suite, all on Github}
\itemize
\item \includegraphics[width=0.5\textwidth]{openptv} \hspace{1em} library, `liboptv`, ANSI C
\item PyPTV GUI for {\em liboptv} in Python \includegraphics[width=.3\textwidth]{pyptv}
\item FlowTracks - trajectories database management (see Meller and Liberzon 2016)
\item BlobRecorder - proprietary hardware/customized software (see Shnapp et al. arxiv)
\end{frame}



\section{Results}\label{sec:results}
\subsubsection*{Trajectory Dataset}
%
\begin{frame}[label=result-5]
	\centering
	\cardImg{traj_snapshot3.pdf}{1\textwidth}
%\begin{card} A visualization of Lagrangian trajectories at various heights in the canopy model. A view from the bottom wall.
%\end{card}
\end{frame}


\begin{frame}[label=result-4]{PDF of tracking times}
\centering \cardImg{PDF_of_Tracking_time_25.png}{0.8\textwidth}
\begin{cardTiny} Tracking time of trajectories, $t_\text{tr}$, from different heights for the  $Re_\infty=16\times10^3$ case. \end{cardTiny} 
\end{frame}


\subsubsection*{Velocity Distributions}
\begin{frame}[label=result-1]
	\centering
	\cardImg{vx_PDF_U40.png}{0.9\textwidth}
	\vspace{-.3cm}
	\begin{cardTiny} PDF of the $u_x/U_\infty$ at 5 height bins inside and above the canopy height $H$ for the $Re_\infty = 26\times 10^3$ case. 
	\end{cardTiny}
\end{frame}


\subsubsection*{Lagrangian Accelerations}

\begin{frame}[label=result-2]
\centering\cardImg{ax_pdf_U40.png}{.9\textwidth}
\begin{cardTiny} %$Re_\infty=26\times 10^3$ case from 5 bin-heights.
\begin{equation}
P(a) = C \exp \left[- \frac{a^2}{\left( 1 + |a\beta / \sigma|^\gamma   \right) \sigma^2} \right]
\label{eq:stretched_exp}
\end{equation}
with $\beta=\sigma=0.57$, $\gamma=1.5$ and $C = 0.686$. 
\end{cardTiny}
\end{frame}


\begin{frame}[label=result-3]
\centering\cardImg{accel_variance.png}{.9\textwidth}
\begin{cardTiny} $\langle a_x^2 \rangle^{1/2}$, normalized with the $u'$ and $H$.\end{cardTiny}
%
\end{frame}

%
%%\section*{Possible extensions}
%\begin{frame}{What can we do to increase 3D-PTV usability}
%\begin{multicols}{2}
%% \cardImg{calibration1}{.32\textwidth}
%\cardImg{dumbbell1}{.49\textwidth}
%\cardImg{dumbbell2}{.49\textwidth}
%\end{multicols}
%\end{frame}



\section{Summary and conclusions}\label{sec:summary}

\begin{frame}{Summary}
\begin{itemize}
\item Real time imaging changed the 3D-PTV method and the way we think about it
\item Field experiments, webcam or Kinect-based, wind tunnel experiments, space station microgravity experiments are possible
\item Direct Lagrangian information in complex urban canopy flows is under analysis
\item Close coordination with the modeling efforts of Lagrangian dispersion or Lagrangian puff models
\end{itemize}
\end{frame}

\begin{frame}{Thank you for your attention}
\cardImg{photo}{\textwidth}
\end{frame}

\end{document}














